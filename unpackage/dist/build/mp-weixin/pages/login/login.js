(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"1ab4":function(e,n,o){"use strict";o.r(n);var t=o("3227"),s=o.n(t);for(var u in t)["default"].indexOf(u)<0&&function(e){o.d(n,e,(function(){return t[e]}))}(u);n["default"]=s.a},"1c4c":function(e,n,o){"use strict";var t=o("c8a4"),s=o.n(t);s.a},2163:function(e,n,o){"use strict";o.r(n);var t=o("574a"),s=o("1ab4");for(var u in s)["default"].indexOf(u)<0&&function(e){o.d(n,e,(function(){return s[e]}))}(u);o("1c4c");var i=o("f0c5"),r=Object(i["a"])(s["default"],t["b"],t["c"],!1,null,"67781238",null,!1,t["a"],void 0);n["default"]=r.exports},3227:function(e,n,o){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={data:function(){return{loginData:{username:"",password:""},type:"center",msgType:"success",messageText:"登录成功",rules:{username:{rules:[{required:!0,errorMessage:"请输入账号"},{minLength:6,maxLength:10,errorMessage:"账号长度在 {minLength} 到 {maxLength} 个字符"}]},password:{rules:[{required:!0,errorMessage:"请输入密码"}]}}}},methods:{submit:function(){var e=this;this.$refs.form.validate().then((function(n){console.log("表单数据信息：",n),n?(e.login(),messageToggle("success")):messageToggle("error")})).catch((function(e){console.log("表单错误信息：",e)}))},messageToggle:function(e){this.msgType=e,this.messageText="success"===e?"登录成功":"登录失败，请检查账号密码是否错误",this.$refs.message.open()},login:function(){var n={username:this.loginData.username,password:this.loginData.password};console.log(n),e.request({url:"http://81.68.99.212:8080/user/login",method:"POST",data:n,header:{"content-type":"application/json"},success:function(n){200===n.data.code?(console.log(n),e.setStorage({key:"ctToken",data:{token:n.data.data.ctToken,info:n.data.data.loginUserVo},success:function(){console.log("ctToken存储成功")},fail:function(e){console.error("存储ctToken失败",e)}}),e.redirectTo({url:"/pages/index/index"}),console.log("登录成功",n.data)):console.error("登录失败",n.data)},fail:function(e){console.error("登录请求失败",e)}})},register:function(){e.navigateTo({url:"/pages/register/register",success:function(){console.log("跳转到注册页面成功")},fail:function(e){console.error("跳转到注册页面失败",e)}})}}};n.default=o}).call(this,o("543d")["default"])},"33bb":function(e,n,o){"use strict";(function(e,n){var t=o("4ea4");o("6e72");t(o("66fd"));var s=t(o("2163"));e.__webpack_require_UNI_MP_PLUGIN__=o,n(s.default)}).call(this,o("bc2e")["default"],o("543d")["createPage"])},"574a":function(e,n,o){"use strict";o.d(n,"b",(function(){return s})),o.d(n,"c",(function(){return u})),o.d(n,"a",(function(){return t}));var t={uniForms:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uni-forms/components/uni-forms/uni-forms")]).then(o.bind(null,"b9a5"))},uniFormsItem:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uni-forms/components/uni-forms-item/uni-forms-item")]).then(o.bind(null,"3b5b"))},uniEasyinput:function(){return o.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput").then(o.bind(null,"88cd"))},uniPopup:function(){return o.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(o.bind(null,"c6ca"))},uniPopupMessage:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uni-popup/components/uni-popup-message/uni-popup-message")]).then(o.bind(null,"69ca"))}},s=function(){var e=this.$createElement;this._self._c},u=[]},c8a4:function(e,n,o){}},[["33bb","common/runtime","common/vendor"]]]);